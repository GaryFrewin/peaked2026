<section class="scene-container">
  <!-- Loading indicator -->
  @if (!sceneLoaded()) {
    <div class="loading-overlay">
      <span>Loading A-Frame Scene...</span>
    </div>
  }

  <a-scene
    xr-mode-ui="XRMode: vr;"
    webxr="optionalFeatures: local-floor, bounded-floor, hand-tracking;"
    renderer="colorManagement: true;"
    background="color: #1a1a2e"
  >
    <!-- Assets -->
    <a-assets timeout="5000">
      <!-- Add assets here later -->
    </a-assets>

    <!-- Sky -->
    <a-sky color="#1a1a2e"></a-sky>

    <!-- Ambient lighting -->
    <a-entity light="type: ambient; color: #ffffff; intensity: 0.5"></a-entity>
    <a-entity light="type: directional; color: #ffffff; intensity: 0.8" position="0 4 2"></a-entity>

    <!-- Ground plane -->
    <a-plane 
      position="0 0 0" 
      rotation="-90 0 0" 
      width="10" 
      height="10" 
      color="#2d2d44"
      material="roughness: 0.9">
    </a-plane>

    <!-- Demo objects -->
    <a-box 
      position="-1 0.5 -3" 
      rotation="0 45 0" 
      color="#4CC3D9"
      shadow>
    </a-box>
    
    <a-sphere 
      position="0 1.25 -5" 
      radius="1.25" 
      color="#EF2D5E"
      shadow>
    </a-sphere>
    
    <a-cylinder 
      position="1 0.75 -3" 
      radius="0.5" 
      height="1.5" 
      color="#FFC65D"
      shadow>
    </a-cylinder>

    <!-- Text showing A-Frame is working -->
    <a-text
      value="Peaked 2026\nAngular 20 + A-Frame 1.7"
      position="0 2.5 -4"
      align="center"
      color="#ffffff"
      width="4">
    </a-text>

    <!-- Camera rig with controllers -->
    <a-entity id="rig" position="0 0 0">
      <a-camera position="0 1.6 0" look-controls wasd-controls></a-camera>
      
      <!-- Left controller -->
      <a-entity
        id="leftController"
        laser-controls="hand: left"
        raycaster="objects: .intersectable; far: 10">
      </a-entity>
      
      <!-- Right controller -->
      <a-entity
        id="rightController"
        laser-controls="hand: right"
        raycaster="objects: .intersectable; far: 10">
      </a-entity>
    </a-entity>

  </a-scene>

  <!-- VR status overlay -->
  <div class="vr-status">
    @if (vrSupported()) {
      <span class="vr-ready">âœ“ VR Ready</span>
    } @else {
      <span class="vr-unavailable">VR not available</span>
    }
  </div>
</section>
