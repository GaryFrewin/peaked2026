<app-base-scene
  [wallModelUrl]="wallStore.modelPath() ?? ''"
  [holds]="holdStore.holds()"
  [visible]="true"
  [holdMaterialFn]="holdMaterialFn"
  (sceneReady)="onSceneReady()"
  (holdHovered)="onHoldHovered($event)"
  (holdHoverEnded)="onHoldHoverEnded($event)"
  (holdClicked)="onHoldClicked($event)"
>
  <!-- Desktop-specific: 2D overlay for route drawing -->
  <div slot="overlay" class="scene-overlay">
    <div class="overlay-header">
      @if (wallStore.isLoading() || holdStore.isLoading()) {
        <span>Loading...</span>
      } @else if (wallStore.selectedWall()) {
        <span>{{ wallStore.selectedWall()?.name }}</span>
      } @else {
        <span>Desktop View</span>
      }
    </div>

    <!-- Route List Sidebar -->
    <div class="overlay-sidebar">
      <h3 class="sidebar-title">Routes</h3>
      <app-route-list />
    </div>

    <!-- Editor Toolbar -->
    <app-editor-toolbar />

    <!-- Mode Indicator -->
    @if (editorService.activeToolId() === 'editHolds') {
      <div class="mode-indicator edit-mode">
        <span class="mode-icon">üìç</span>
        <span class="mode-text">EDIT HOLDS</span>
        <span class="mode-hint">Hover + Space to select ‚Ä¢ ESC to exit</span>
      </div>
    }
  </div>
</app-base-scene>
