<div class="pk-page-backdrop">
  <div class="pk-glass-panel pk-glass-panel--md">
    <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
      <img src="/assets/images/TextLogo.png" alt="Peaked" class="pk-logo" />
      <p class="pk-text-center pk-text-muted pk-mb-3">Please login</p>

      <!-- Email Input -->
      <div class="pk-form-group">
        <label for="email" class="pk-label">Email</label>
        <input
          type="email"
          class="pk-input"
          id="email"
          [ngModel]="email()"
          (ngModelChange)="email.set($event)"
          name="email"
          required
          placeholder="Email"
        />
      </div>

      <!-- Password Input -->
      <div class="pk-form-group">
        <label for="password" class="pk-label">Password</label>
        <input
          type="password"
          class="pk-input"
          id="password"
          [ngModel]="password()"
          (ngModelChange)="password.set($event)"
          name="password"
          required
          placeholder="Password"
        />
      </div>

      <!-- Submit Button -->
      @if (!isLoading()) {
        <button
          class="pk-btn pk-btn--primary"
          type="submit"
          [disabled]="!loginForm.form.valid"
        >
          Login
        </button>
      } @else {
        <button class="pk-btn pk-btn--primary" type="button" disabled>
          <span class="spinner"></span>
          Logging in...
        </button>
      }
    </form>

    <!-- Error Message -->
    @if (errorMessage()) {
      <p class="pk-text-error pk-mb-0">{{ errorMessage() }}</p>
    }
  </div>
</div>
