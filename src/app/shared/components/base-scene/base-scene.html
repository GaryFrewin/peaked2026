<a-scene #scene>
  <!-- Dark sky for desktop mode -->
  <a-sky color="#222"></a-sky>

  <!-- Wall Environment with calibrated anchor -->
  <a-entity 
    id="wall-environment" 
    position="0 0 0"
    [attr.visible]="visible()"
  >
    <!-- Wall GLTF Model - uses direct URL loading like the working playground -->
    @if (wallModelUrl()) {
      <a-entity 
        id="wall-container"
        [attr.gltf-model]="'url(' + wallModelUrl() + ')'"
        position="0 0 0"
      ></a-entity>
    }

    <!-- Holds - rendered directly (A-Frame can't see inside Angular components) -->
    @for (hold of holds(); track hold.id) {
      <a-sphere
        [attr.position]="hold.x + ' ' + hold.y + ' ' + hold.z"
        radius="0.05"
        color="#00ff00"
        opacity="0.8">
      </a-sphere>
    }

    <!-- Extension point: context-specific entities -->
    <ng-content select="[slot=entities]" />
  </a-entity>

  <!-- Extension point: environment (sky, lights, etc) -->
  <ng-content select="[slot=environment]" />
</a-scene>

<!-- 2D overlay slot for desktop features -->
<ng-content select="[slot=overlay]" />
